package edu.umb.cs680.hw06;

import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeAll;

public class DrawerOpenTest {
    private static DVDPlayer player;
    private static DrawerOpen drawerOpen;

    @BeforeAll
    public static void setUp() {
        player = DVDPlayer.getInstance();
        drawerOpen = DrawerOpen.getInstance();
    }

    @Test
    public void singletonTest() {
        DrawerOpen drawerOpen2 = DrawerOpen.getInstance();
        assertSame(drawerOpen, drawerOpen2);
    }

    @Test
    public void openCloseButtonPushed() {
        // expect to print: Drawer is closed.
        player.changeState(drawerOpen);
        drawerOpen.openCloseButtonPushed(player);
        assertSame(player.getState(), DrawerClosedNotPlaying.getInstance());
    }

    @Test
    public void playButtonPushed() {
        //  expect to print: Drawer is closed. Video is playing.
        player.changeState(drawerOpen);
        drawerOpen.playButtonPushed(player);
        assertSame(player.getState(), DrawerClosedPlaying.getInstance());
    }

    @Test
    public void stopButtonPushed() {
        // expect to print: None
        player.changeState(drawerOpen);
        drawerOpen.stopButtonPushed(player);
        assertSame(player.getState(), drawerOpen);
    }
}
